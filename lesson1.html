<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>1-dars â€“ Salomlashuv</title>

  <style>
    :root{
      --bg:#F7F3EE; --card:#FFFFFF; --ink:#1F2937; --muted:#6B7280; --line:#E7E0D8;
      --accent:#6FA8A1; --accent2:#F2C98A; --shadow:0 10px 26px rgba(31,41,55,0.10); --radius:18px;
      --good:#16a34a; --bad:#dc2626;
    }
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--ink);padding:18px;}
    .app{max-width:920px;margin:0 auto;}
    .top{background:var(--card);border:1px solid var(--line);border-radius:var(--radius);box-shadow:var(--shadow);padding:18px;}
    .headRow{display:flex;justify-content:space-between;align-items:flex-start;gap:12px;flex-wrap:wrap;}
    h1{margin:0;font-size:22px;}
    .sub{margin-top:6px;color:var(--muted)}
    .langSwitch{display:flex;gap:6px;background:#F1FBF9;border:1px solid #D7F1ED;padding:6px;border-radius:999px;}
    .langBtn{border:none;background:transparent;padding:6px 12px;border-radius:999px;font-weight:800;cursor:pointer;color:#1B4D48;}
    .langBtn.active{background:var(--accent);color:#fff;}
    .grid{margin-top:14px;display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:12px;}
    .card{background:var(--card);border:1px solid var(--line);border-radius:var(--radius);box-shadow:var(--shadow);padding:14px;text-align:center;}
    .emoji{font-size:48px}
    .uz{font-size:28px;font-weight:900;margin-top:8px}
    .en{font-size:16px;font-weight:800;margin-top:8px;display:none}
    .pr{color:var(--muted);font-style:italic;margin-top:6px;font-size:13px}
    .audioBtn{width:100%;margin-top:10px;padding:10px;font-size:15px;border:none;border-radius:14px;background:var(--accent2);color:#3b2a10;font-weight:900;cursor:pointer;}
    .stars{margin-top:8px;font-size:20px;color:#F59E0B;font-weight:900}
    .quiz{margin-top:16px}
    .opt{width:100%;padding:12px;border-radius:14px;border:1px solid var(--line);background:#fff;font-weight:900;cursor:pointer;margin-top:8px}
    .result{margin-top:10px;font-weight:900}
    .navRow{display:flex;gap:10px;flex-wrap:wrap;margin-top:14px;}
    a.nav,a.next{flex:1;min-width:200px;text-align:center;text-decoration:none;padding:12px;border-radius:14px;font-weight:900;}
    a.nav{background:#fff;border:1px solid var(--line);color:var(--ink);}
    a.next{background:var(--accent);color:#fff;}
  </style>

  <script>
    let currentLang = "uz";
    const LESSON = "1";

    function setLang(lang){
      currentLang = lang;
      document.querySelectorAll('.uz').forEach(e => e.style.display = (lang==='uz') ? 'block' : 'none');
      document.querySelectorAll('.en').forEach(e => e.style.display = (lang==='en') ? 'block' : 'none');
      document.getElementById('btn-uz').classList.toggle('active', lang==='uz');
      document.getElementById('btn-en').classList.toggle('active', lang==='en');
    }

    function getStars(){ try { return JSON.parse(localStorage.getItem("stars") || "{}"); } catch { return {}; } }
    function setStars(o){ localStorage.setItem("stars", JSON.stringify(o)); }

    function renderStars(key){
      const stars = getStars();
      const n = Math.min(3, stars[`L${LESSON}_${key}`] || 0);
      document.getElementById("star-"+key).innerText = "â˜…".repeat(n) + "â˜†".repeat(3-n);
    }

    function play(key){
      const id = (currentLang === "en") ? ("en_" + key) : ("uz_" + key);
      const a = document.getElementById(id);
      if(!a){ alert("Audio fehlt: " + id); return; }

      a.currentTime = 0;
      a.play().catch(()=>alert("Audio spielt nicht. PrÃ¼fe Datei: " + a.src));

      const stars = getStars();
      const sKey = `L${LESSON}_${key}`;
      stars[sKey] = Math.min(3, (stars[sKey] || 0) + 1);
      setStars(stars);
      renderStars(key);
    }

    function answer(correct){
      const r = document.getElementById("quizResult");
      if(correct){
        r.innerText = "âœ… Richtig! Super!";
        r.style.color = "var(--good)";
      } else {
        r.innerText = "âŒ Nicht ganz. Versuchâ€™s nochmal!";
        r.style.color = "var(--bad)";
      }
    }

    window.onload = () => {
      setLang("uz");
      ["1","4","6","9","11"].forEach(renderStars);
    };
  </script>
</head>

<body>
  <div class="app">
    <div class="top">
      <div class="headRow">
        <div>
          <h1>ğŸ‘‹ 1-dars: Salomlashuv</h1>
          <div class="sub">Du darfst Texte Ã¤ndern â€“ die Zahlen-Keys bitte lassen ğŸ˜Š</div>
        </div>

        <div class="langSwitch">
          <button id="btn-uz" class="langBtn active" onclick="setLang('uz')">UZ</button>
          <button id="btn-en" class="langBtn" onclick="setLang('en')">EN</button>
        </div>
      </div>

      <div class="grid">
        <!-- KEY 1 -->
        <div class="card">
          <div class="emoji">ğŸ‘‹</div>
          <div class="uz">Salom</div>
          <div class="en">Hello</div>
          <div class="pr">sa-LOM</div>
          <button class="audioBtn" onclick="play('1')">â–¶ Tinglash</button>
          <div class="stars" id="star-1">â˜† â˜† â˜†</div>
          <audio id="uz_1" src="a/1.mp3" preload="none" playsinline></audio>
          <audio id="en_1" src="en/1.mp3" preload="none" playsinline></audio>
        </div>

        <!-- KEY 6 -->
        <div class="card">
          <div class="emoji">ğŸ™</div>
          <div class="uz">Rahmat</div>
          <div class="en">Thank you</div>
          <div class="pr">rakh-MAT</div>
          <button class="audioBtn" onclick="play('6')">â–¶ Tinglash</button>
          <div class="stars" id="star-6">â˜† â˜† â˜†</div>
          <audio id="uz_6" src="a/6.mp3" preload="none" playsinline></audio>
          <audio id="en_6" src="en/6.mp3" preload="none" playsinline></audio>
        </div>

        <!-- KEY 9 -->
        <div class="card">
          <div class="emoji">ğŸŒ¸</div>
          <div class="uz">Iltimos</div>
          <div class="en">Please</div>
          <div class="pr">il-ti-MOS</div>
          <button class="audioBtn" onclick="play('9')">â–¶ Tinglash</button>
          <div class="stars" id="star-9">â˜† â˜† â˜†</div>
          <audio id="uz_9" src="a/9.mp3" preload="none" playsinline></audio>
          <audio id="en_9" src="en/9.mp3" preload="none" playsinline></audio>
        </div>

        <!-- KEY 4 -->
        <div class="card">
          <div class="emoji">ğŸ™‚</div>
          <div class="uz">Yaxshimisiz?</div>
          <div class="en">How are you?</div>
          <div class="pr">yakh-shi-MI-siz</div>
          <button class="audioBtn" onclick="play('4')">â–¶ Tinglash</button>
          <div class="stars" id="star-4">â˜† â˜† â˜†</div>
          <audio id="uz_4" src="a/4.mp3" preload="none" playsinline></audio>
          <audio id="en_4" src="en/4.mp3" preload="none" playsinline></audio>
        </div>

        <!-- KEY 11 -->
        <div class="card">
          <div class="emoji">ğŸŒ™</div>
          <div class="uz">Xayr</div>
          <div class="en">Bye</div>
          <div class="pr">khayr</div>
          <button class="audioBtn" onclick="play('11')">â–¶ Tinglash</button>
          <div class="stars" id="star-11">â˜† â˜† â˜†</div>
          <audio id="uz_11" src="a/11.mp3" preload="none" playsinline></audio>
          <audio id="en_11" src="en/11.mp3" preload="none" playsinline></audio>
        </div>
      </div>

      <div class="quiz card">
        <h2 style="margin:0 0 8px;">ğŸ¯ Mini-Quiz</h2>
        <p style="margin:0;color:var(--muted)"><strong>Was heiÃŸt â€Salomâ€œ?</strong></p>
        <button class="opt" onclick="answer(true)">Hello</button>
        <button class="opt" onclick="answer(false)">Thank you</button>
        <button class="opt" onclick="answer(false)">Bye</button>
        <div class="result" id="quizResult"></div>
      </div>

      <div class="navRow">
        <a class="nav" href="index.html">â¬…ï¸ Bosh sahifa</a>
        <a class="next" href="lesson2.html">Keyingi â¡ï¸</a>
      </div>
    </div>
  </div>
</body>
</html>


