<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>3-dars ‚Äì Hayvonlar</title>
<style>
 :root{
  --headerGrad1:#FFDEE9;
  --headerGrad2:#B5FFFC;

  --blue:#2F6BFF;
  --blueDark:#1E40AF;

  --ink:#0F172A;
  --muted:#475569;

  --track:#E5E7EB;
}

.top{
  background:linear-gradient(135deg,var(--headerGrad1),var(--headerGrad2));
  border-radius:30px;
  box-shadow:0 16px 34px rgba(0,0,0,0.10);
  padding:18px 16px 16px;
  margin-bottom:16px;
}

.titleRow{
  display:grid;
  grid-template-columns:72px 1fr 72px;
  align-items:center;
}

.iconBtn{
  font-size:46px;
  background:none;
  border:none;
  cursor:pointer;
}

.titleWrap{
  text-align:center;
}

.title{
  margin:0;
  font-size:30px;
  font-weight:1000;
  color:var(--ink);
}

.subtitle{
  margin-top:4px;
  font-size:18px;
  font-weight:900;
  color:var(--muted);
}

.track{
  margin-top:10px;
  height:16px;
  background:var(--track);
  border-radius:999px;
  overflow:hidden;
}

.fill{
  height:100%;
  width:0%;
  background:linear-gradient(90deg,#22C55E,#4ADE80,#34D399);
  transition:width .35s ease;
}

.progressText{
  text-align:center;
  font-weight:1000;
  font-size:18px;
  margin-top:6px;
}

.langRow{
  display:flex;
  justify-content:center;
  gap:14px;
  margin-top:10px;
}

.langBtn{
  width:130px;
  padding:10px 0;
  border:none;
  border-radius:999px;
  font-weight:1000;
  font-size:18px;
  background:#E5E7EB;
  color:var(--blueDark);
  cursor:pointer;
}

.langBtn.active{
  background:var(--blue);
  color:white;
  box-shadow: inset 0 -6px 0 rgba(0,0,0,0.18);
}
  </style>
  
<div class="top">
  <div class="titleRow">

    <!-- üè† LEFT -->
    <button class="iconBtn" onclick="goHome()">üè†</button>

    <!-- TITLE -->
    <div class="titleWrap">
      <h1 class="title">2-dars: Sonlar</h1>
      <div class="subtitle">Birga o‚Äòrganamiz üòä</div>
    </div>

    <!-- üìñ RIGHT -->
    <button class="iconBtn" onclick="openLearn()">üìñ</button>

  </div>

  <!-- Progress -->
  <div class="track">
    <div class="fill" id="progressFill"></div>
  </div>

  <div class="progressText" id="progressText">0 / 10</div>

  <!-- UZ / EN -->
  <div class="langRow">
    <button id="btn-uz" class="langBtn active" onclick="setLang('uz')">UZ</button>
    <button id="btn-en" class="langBtn" onclick="setLang('en')">EN</button>
  </div>
</div>
  
  <script>
    let currentLang = "uz";
    function setLang(lang){
      currentLang = lang;
      document.querySelectorAll('.uz').forEach(e => e.style.display = (lang==='uz')?'block':'none');
      document.querySelectorAll('.en').forEach(e => e.style.display = (lang==='en')?'block':'none');
      document.getElementById('btn-uz').classList.toggle('active', lang==='uz');
      document.getElementById('btn-en').classList.toggle('active', lang==='en');
    }
    function play(key){
      const id = (currentLang === "en") ? ("en_" + key) : ("uz_" + key);
      const a = document.getElementById(id);
      if(!a){ alert("Audio topilmadi: " + id); return; }
      a.currentTime = 0;
      const p = a.play();
      if(p && typeof p.catch === "function"){ p.catch(()=>alert("Audio o‚Äòynamadi. Fayl nomi/papka tekshiring.")); }
    }
    function goHome(){
  window.location.href = "index.html";
}

function setLang(lang){
  state.lang = lang;

  document.getElementById("btn-uz").classList.toggle("active", lang==="uz");
  document.getElementById("btn-en").classList.toggle("active", lang==="en");

  saveState();
  renderAll();
}

function updateHeaderProgress(done,total){
  document.getElementById("progressText").innerText = `${done} / ${total}`;
  document.getElementById("progressFill").style.width = (done/total*100)+"%";
}

function openLearn(){
  openSection("learn");
}
  </script>
</head>

<body onload="setLang('uz')">
  <div class="app">
    <div class="top">
      <div class="headRow">
        <div>
          <h1>üêæ 3-dars: Hayvonlar</h1>
          <div class="sub">Hayvonlarni aytamiz! üòä</div>
        </div>
        <div class="langSwitch">
          <button id="btn-uz" class="langBtn active" onclick="setLang('uz')">UZ</button>
          <button id="btn-en" class="langBtn" onclick="setLang('en')">EN</button>
        </div>
      </div>

      <div class="grid">
        <!-- cat -->
        <div class="card">
          <div class="emoji">üê±</div>
          <div class="uz">Mushuk</div>
          <div class="en">Cat</div>
          <div class="pr">mu-SHUK</div>
          <button class="audioBtn" onclick="play('cat')">‚ñ∂ Tinglash</button>
          <audio id="uz_cat" src="a/cat.mp3" preload="none" playsinline></audio>
          <audio id="en_cat" src="en/cat.mp3" preload="none" playsinline></audio>
        </div>

        <!-- dog -->
        <div class="card">
          <div class="emoji">üê∂</div>
          <div class="uz">It</div>
          <div class="en">Dog</div>
          <div class="pr">it</div>
          <button class="audioBtn" onclick="play('dog')">‚ñ∂ Tinglash</button>
          <audio id="uz_dog" src="a/dog.mp3" preload="none" playsinline></audio>
          <audio id="en_dog" src="en/dog.mp3" preload="none" playsinline></audio>
        </div>

        <!-- bird -->
        <div class="card">
          <div class="emoji">üê¶</div>
          <div class="uz">Qush</div>
          <div class="en">Bird</div>
          <div class="pr">qush</div>
          <button class="audioBtn" onclick="play('bird')">‚ñ∂ Tinglash</button>
          <audio id="uz_bird" src="a/bird.mp3" preload="none" playsinline></audio>
          <audio id="en_bird" src="en/bird.mp3" preload="none" playsinline></audio>
        </div>

        <!-- fish -->
        <div class="card">
          <div class="emoji">üêü</div>
          <div class="uz">Baliq</div>
          <div class="en">Fish</div>
          <div class="pr">ba-LIQ</div>
          <button class="audioBtn" onclick="play('fish')">‚ñ∂ Tinglash</button>
          <audio id="uz_fish" src="a/fish.mp3" preload="none" playsinline></audio>
          <audio id="en_fish" src="en/fish.mp3" preload="none" playsinline></audio>
        </div>

        <!-- horse -->
        <div class="card">
          <div class="emoji">üê¥</div>
          <div class="uz">Ot</div>
          <div class="en">Horse</div>
          <div class="pr">ot</div>
          <button class="audioBtn" onclick="play('horse')">‚ñ∂ Tinglash</button>
          <audio id="uz_horse" src="a/horse.mp3" preload="none" playsinline></audio>
          <audio id="en_horse" src="en/horse.mp3" preload="none" playsinline></audio>
        </div>

        <!-- cow -->
        <div class="card">
          <div class="emoji">üêÆ</div>
          <div class="uz">Sigir</div>
          <div class="en">Cow</div>
          <div class="pr">si-GIR</div>
          <button class="audioBtn" onclick="play('cow')">‚ñ∂ Tinglash</button>
          <audio id="uz_cow" src="a/cow.mp3" preload="none" playsinline></audio>
          <audio id="en_cow" src="en/cow.mp3" preload="none" playsinline></audio>
        </div>

        <!-- rabbit -->
        <div class="card">
          <div class="emoji">üê∞</div>
          <div class="uz">Quyon</div>
          <div class="en">Rabbit</div>
          <div class="pr">qu-YON</div>
          <button class="audioBtn" onclick="play('rabbit')">‚ñ∂ Tinglash</button>
          <audio id="uz_rabbit" src="a/rabbit.mp3" preload="none" playsinline></audio>
          <audio id="en_rabbit" src="en/rabbit.mp3" preload="none" playsinline></audio>
        </div>

        <!-- lion -->
        <div class="card">
          <div class="emoji">ü¶Å</div>
          <
